Investigate segments in ER
================
Steven Moran
(27 October, 2020)

Let’s look at the segment types in ER and their feature values.

    library(tidyverse)
    library(knitr)

Load phoible dev.

    col_types <- cols(InventoryID='i', Marginal='l', .default='c')
    phoible <- read_csv(url('https://github.com/phoible/dev/blob/master/data/phoible.csv?raw=true'), col_types = col_types)

Get ER segment types and their counts.

    er_counts <- phoible %>% filter(Source=="er") %>% select(Phoneme) %>% group_by(Phoneme) %>% summarize(count = n()) %>% arrange(desc(count))

    ## `summarise()` ungrouping output (override with `.groups` argument)

    er_counts %>% kable()

| Phoneme | count |
|:--------|------:|
| a       |   392 |
| i       |   392 |
| j       |   392 |
| m       |   392 |
| ŋ       |   392 |
| w       |   392 |
| u       |   389 |
| ȵ       |   379 |
| k       |   322 |
| p       |   322 |
| ȶ       |   313 |
| l       |   267 |
| n       |   267 |
| r       |   265 |
| ɻ       |   262 |
| ɳ       |   259 |
| ɭ       |   248 |
| n̪       |   236 |
| t       |   222 |
| ʈ       |   222 |
| ȴ       |   202 |
| t̪       |   201 |
| aː      |   180 |
| iː      |   159 |
| uː      |   157 |
| e       |   131 |
| l̺       |   125 |
| n̺       |   125 |
| r̺       |   124 |
| ɹ̺       |   113 |
| t̺       |    99 |
| l̪       |    98 |
| o       |    98 |
| k͈       |    70 |
| p͈       |    70 |
| p͉       |    70 |
| k͉       |    69 |
| ȶ͈       |    66 |
| ȶ͉       |    64 |
| t͈       |    45 |
| ʈ͉       |    45 |
| t͉       |    44 |
| t̪͈       |    44 |
| ʈ͈       |    44 |
| t̪͉       |    43 |
| ʔ       |    43 |
| eː      |    30 |
| β       |    29 |
| ð       |    28 |
| ɣ       |    28 |
| ə       |    26 |
| t̺͈       |    24 |
| t̺͉       |    24 |
| oː      |    22 |
| ɽ       |    20 |
| ɾ       |    18 |
| ɰ       |    18 |
| ɨ       |    13 |
| kʷ      |    11 |
| ŋʷ      |    11 |
| jʷ      |    10 |
| lʷ      |    10 |
| l̪ʷ      |    10 |
| ɭʷ      |    10 |
| ȴʷ      |    10 |
| mʷ      |    10 |
| nʷ      |    10 |
| n̪ʷ      |    10 |
| ɳʷ      |    10 |
| ȵʷ      |    10 |
| pʷ      |    10 |
| rʷ      |    10 |
| ɻʷ      |    10 |
| tʷ      |    10 |
| t̪ʷ      |    10 |
| ʈʷ      |    10 |
| ȶʷ      |    10 |
| æ       |     9 |
| ø       |     8 |
| ʑ       |     8 |
| ɕ       |     6 |
| r̺͈       |     6 |
| ɺ       |     6 |
| ɺ̺̠       |     6 |
| j̪       |     5 |
| ɵ       |     5 |
| ɸ       |     5 |
| h       |     4 |
| ɾ̺       |     4 |
| ʐ       |     4 |
| θ       |     3 |
| æː      |     2 |
| ɵː      |     2 |
| ʉ       |     2 |
| y       |     2 |
| ã       |     1 |
| æ̃       |     1 |
| ẽ       |     1 |
| ĩ       |     1 |
| n̻       |     1 |
| øː      |     1 |
| ɔ       |     1 |
| t̻       |     1 |
| x       |     1 |
| z̺       |     1 |

Let’s grab the features.

    temp <- phoible %>% filter(Phoneme %in% er_counts$Phoneme)
    temp <- temp %>% select(-1,-2,-3,-4,-5,-6,-8,-9,-11)
    temp <- temp %>% group_by(Phoneme) %>% distinct()

    temp %>% arrange(Phoneme) %>% kable() %>% head()

    ## [1] "|Phoneme |SegmentClass |tone |stress |syllabic |short |long |consonantal |sonorant |continuant |delayedRelease |approximant |tap |trill |nasal |lateral |labial |round |labiodental |coronal |anterior |distributed |strident |dorsal |high |low |front |back |tense |retractedTongueRoot |advancedTongueRoot |periodicGlottalSource |epilaryngealSource |spreadGlottis |constrictedGlottis |fortis |raisedLarynxEjective |loweredLarynxImplosive |click |"
    ## [2] "|:-------|:------------|:----|:------|:--------|:-----|:----|:-----------|:--------|:----------|:--------------|:-----------|:---|:-----|:-----|:-------|:------|:-----|:-----------|:-------|:--------|:-----------|:--------|:------|:----|:---|:-----|:----|:-----|:-------------------|:------------------|:---------------------|:------------------|:-------------|:------------------|:------|:--------------------|:----------------------|:-----|"
    ## [3] "|a       |vowel        |0    |-      |+        |-     |-    |-           |+        |+          |0              |+           |-   |-     |-     |-       |-      |0     |0           |-       |0        |0           |0        |+      |-    |+   |-     |-    |0     |-                   |-                  |+                     |-                  |-             |-                  |0      |-                    |-                      |0     |"
    ## [4] "|ã       |vowel        |0    |-      |+        |-     |-    |-           |+        |+          |0              |+           |-   |-     |+     |-       |-      |0     |0           |-       |0        |0           |0        |+      |-    |+   |-     |-    |0     |-                   |-                  |+                     |-                  |-             |-                  |0      |-                    |-                      |0     |"
    ## [5] "|aː      |vowel        |0    |-      |+        |-     |+    |-           |+        |+          |0              |+           |-   |-     |-     |-       |-      |0     |0           |-       |0        |0           |0        |+      |-    |+   |-     |-    |0     |-                   |-                  |+                     |-                  |-             |-                  |0      |-                    |-                      |0     |"
    ## [6] "|æ       |vowel        |0    |-      |+        |-     |-    |-           |+        |+          |0              |+           |-   |-     |-     |-       |-      |0     |0           |-       |0        |0           |0        |+      |-    |+   |+     |-    |0     |-                   |-                  |+                     |-                  |-             |-                  |0      |-                    |-                      |0     |"

Write to CSV.

    write_csv(temp, 'er_segments_features.csv')

Let’s look at just a few relevant Australian phonological features.

    temp %>% select(Phoneme, coronal, anterior, distributed) %>% arrange(Phoneme) %>% kable()

| Phoneme | coronal | anterior | distributed |
|:--------|:--------|:---------|:------------|
| a       | \-      | 0        | 0           |
| ã       | \-      | 0        | 0           |
| aː      | \-      | 0        | 0           |
| æ       | \-      | 0        | 0           |
| æ̃       | \-      | 0        | 0           |
| æː      | \-      | 0        | 0           |
| ɕ       | \+      | \+       | \+          |
| ð       | \+      | \+       | \+          |
| e       | \-      | 0        | 0           |
| ẽ       | \-      | 0        | 0           |
| eː      | \-      | 0        | 0           |
| ə       | \-      | 0        | 0           |
| ɣ       | \-      | 0        | 0           |
| h       | \-      | 0        | 0           |
| i       | \-      | 0        | 0           |
| ĩ       | \-      | 0        | 0           |
| iː      | \-      | 0        | 0           |
| ɨ       | \-      | 0        | 0           |
| j       | \-      | 0        | 0           |
| j̪       | \+      | \+       | \+          |
| jʷ      | \-      | 0        | 0           |
| k       | \-      | 0        | 0           |
| k͈       | \-      | 0        | 0           |
| k͉       | \-      | 0        | 0           |
| kʷ      | \-      | 0        | 0           |
| l       | \+      | \+       | \-          |
| l̪       | \+      | \+       | \+          |
| l̺       | \+      | \+       | \-          |
| lʷ      | \+      | \+       | \-          |
| l̪ʷ      | \+      | \+       | \+          |
| ɭ       | \+      | \-       | \-          |
| ɭʷ      | \+      | \-       | \-          |
| ȴ       | \+      | \+       | \+          |
| ȴʷ      | \+      | \+       | \+          |
| m       | \-      | 0        | 0           |
| mʷ      | \-      | 0        | 0           |
| n       | \+      | \+       | \-          |
| n̻       | \+      | \+       | \+          |
| n̪       | \+      | \+       | \+          |
| n̺       | \+      | \+       | \-          |
| nʷ      | \+      | \+       | \-          |
| n̪ʷ      | \+      | \+       | \+          |
| ɳ       | \+      | \-       | \-          |
| ɳʷ      | \+      | \-       | \-          |
| ȵ       | \+      | \+       | \+          |
| ȵʷ      | \+      | \+       | \+          |
| ŋ       | \-      | 0        | 0           |
| ŋʷ      | \-      | 0        | 0           |
| o       | \-      | 0        | 0           |
| ø       | \-      | 0        | 0           |
| oː      | \-      | 0        | 0           |
| øː      | \-      | 0        | 0           |
| ɔ       | \-      | 0        | 0           |
| ɵ       | \-      | 0        | 0           |
| ɵː      | \-      | 0        | 0           |
| p       | \-      | 0        | 0           |
| p͈       | \-      | 0        | 0           |
| p͉       | \-      | 0        | 0           |
| pʷ      | \-      | 0        | 0           |
| ɸ       | \-      | 0        | 0           |
| r       | \+      | \+       | \-          |
| r̺       | \+      | \+       | \-          |
| r̺͈       | \+      | \+       | \-          |
| rʷ      | \+      | \+       | \-          |
| ɹ̺       | \+      | \-       | \-          |
| ɺ       | \+      | \+       | \-          |
| ɺ̺̠       | \+      | \-       | \+          |
| ɻ       | \+      | \-       | \-          |
| ɻʷ      | \+      | \-       | \-          |
| ɽ       | \+      | \-       | \-          |
| ɾ       | \+      | \+       | \-          |
| ɾ̺       | \+      | \+       | \-          |
| t       | \+      | \+       | \-          |
| t͈       | \+      | \+       | \-          |
| t̪       | \+      | \+       | \+          |
| t̻       | \+      | \+       | \+          |
| t͉       | \+      | \+       | \-          |
| t̺       | \+      | \+       | \-          |
| t̪͈       | \+      | \+       | \+          |
| t̪͉       | \+      | \+       | \+          |
| t̺͈       | \+      | \+       | \-          |
| t̺͉       | \+      | \+       | \-          |
| tʷ      | \+      | \+       | \-          |
| t̪ʷ      | \+      | \+       | \+          |
| ʈ       | \+      | \-       | \-          |
| ʈ͉       | \+      | \-       | \-          |
| ʈ͈       | \+      | \-       | \-          |
| ʈʷ      | \+      | \-       | \-          |
| ȶ       | \+      | \+       | \+          |
| ȶ͈       | \+      | \+       | \+          |
| ȶ͉       | \+      | \+       | \+          |
| ȶʷ      | \+      | \+       | \+          |
| u       | \-      | 0        | 0           |
| uː      | \-      | 0        | 0           |
| ʉ       | \-      | 0        | 0           |
| ɰ       | \-      | 0        | 0           |
| w       | \-      | 0        | 0           |
| x       | \-      | 0        | 0           |
| y       | \-      | 0        | 0           |
| z̺       | \+      | \+       | \-          |
| ʐ       | \+      | \-       | \-          |
| ʑ       | \+      | \+       | \+          |
| ʔ       | \-      | 0        | 0           |
| β       | \-      | 0        | 0           |
| θ       | \+      | \+       | \+          |

Let’s look at the various n segments.

    n_segments <- temp %>% select(Phoneme, SegmentClass, nasal) %>% filter(nasal == "+") %>% filter(SegmentClass == "consonant")
    n_segments <- n_segments %>% filter(!grepl("m", Phoneme))

    n_segments <- temp %>% filter(Phoneme %in% n_segments$Phoneme) %>% distinct()

How do they compare?

    n_segments %>% kable()

| Phoneme | SegmentClass | tone | stress | syllabic | short | long | consonantal | sonorant | continuant | delayedRelease | approximant | tap | trill | nasal | lateral | labial | round | labiodental | coronal | anterior | distributed | strident | dorsal | high | low | front | back | tense | retractedTongueRoot | advancedTongueRoot | periodicGlottalSource | epilaryngealSource | spreadGlottis | constrictedGlottis | fortis | raisedLarynxEjective | loweredLarynxImplosive | click |
|:--------|:-------------|:-----|:-------|:---------|:------|:-----|:------------|:---------|:-----------|:---------------|:------------|:----|:------|:------|:--------|:-------|:------|:------------|:--------|:---------|:------------|:---------|:-------|:-----|:----|:------|:-----|:------|:--------------------|:-------------------|:----------------------|:-------------------|:--------------|:-------------------|:-------|:---------------------|:-----------------------|:------|
| n       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \+      | \+       | \-          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| ŋ       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \-      | 0        | 0           | 0        | \+     | \+   | \-  | \-    | \-   | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| n̻       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \+      | \+       | \+          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| n̪       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \+      | \+       | \+          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| ɳ       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \+      | \-       | \-          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| ŋʷ      | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \+     | \+    | \-          | \-      | 0        | 0           | 0        | \+     | \+   | \-  | \-    | \-   | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| nʷ      | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \+     | \+    | \-          | \+      | \+       | \-          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| n̺       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \+      | \+       | \-          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| ȵ       | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \-     | 0     | 0           | \+      | \+       | \+          | \-       | \+     | \+   | \-  | \+    | \-   | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| n̪ʷ      | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \+     | \+    | \-          | \+      | \+       | \+          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| ȵʷ      | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \+     | \+    | \-          | \+      | \+       | \+          | \-       | \+     | \+   | \-  | \+    | \-   | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |
| ɳʷ      | consonant    | 0    | \-     | \-       | \-    | \-   | \+          | \+       | \-         | 0              | \-          | \-  | \-    | \+    | \-      | \+     | \+    | \-          | \+      | \-       | \-          | \-       | \-     | 0    | 0   | 0     | 0    | 0     | 0                   | 0                  | \+                    | \-                 | \-            | \-                 | \-     | \-                   | \-                     | \-    |

Whittle down the features.

    n_segments %>% select(Phoneme, coronal, anterior, distributed, dorsal, high, low, front, back, round) %>% kable()

| Phoneme | coronal | anterior | distributed | dorsal | high | low | front | back | round |
|:--------|:--------|:---------|:------------|:-------|:-----|:----|:------|:-----|:------|
| n       | \+      | \+       | \-          | \-     | 0    | 0   | 0     | 0    | 0     |
| ŋ       | \-      | 0        | 0           | \+     | \+   | \-  | \-    | \-   | 0     |
| n̻       | \+      | \+       | \+          | \-     | 0    | 0   | 0     | 0    | 0     |
| n̪       | \+      | \+       | \+          | \-     | 0    | 0   | 0     | 0    | 0     |
| ɳ       | \+      | \-       | \-          | \-     | 0    | 0   | 0     | 0    | 0     |
| ŋʷ      | \-      | 0        | 0           | \+     | \+   | \-  | \-    | \-   | \+    |
| nʷ      | \+      | \+       | \-          | \-     | 0    | 0   | 0     | 0    | \+    |
| n̺       | \+      | \+       | \-          | \-     | 0    | 0   | 0     | 0    | 0     |
| ȵ       | \+      | \+       | \+          | \+     | \+   | \-  | \+    | \-   | 0     |
| n̪ʷ      | \+      | \+       | \+          | \-     | 0    | 0   | 0     | 0    | \+    |
| ȵʷ      | \+      | \+       | \+          | \+     | \+   | \-  | \+    | \-   | \+    |
| ɳʷ      | \+      | \-       | \-          | \-     | 0    | 0   | 0     | 0    | \+    |
